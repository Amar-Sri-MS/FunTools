// FunOS NU Quality of Service Configuration
{
	NetworkUnit: {
        PSW: [
            {
                GlobalResourceManager: {
                    total_cells: 16384,
                    drop_pool_cells: 16384,
                    no_drop_pool_cells: 0,
                    sf_thr: 12288,
                    sf_xoff_thr: 2048,
                    fcp_thr: 12288,
                    fcp_xoff_thr: 10240,
                    nonfcp_thr: 16384,
                    nonfcp_xoff_thr: 2048,
                    sx_thr: 12288,
                    dx_thr: 12288,
                    df_thr: 12288,
                    sample_copy_thr: 256,
                },

                OutputResourceManager: {
                    PortCfg: [
                        {
                            port_num: ["0-47"],
                            params: {
                                min_thr: 0,
                                shr_thr: 16384,
                            },
                        },
                    ],
                    QueueCfg: [
                        {
                            port_num: ["0-23"],
                            queue: [
                                {
                                    queue_num: ["0-15"],
                                    params: {
                                        min_thr: 40, //Jumbo MTU?
                                        static_shr_thr_green: 16384,
                                        dynamic_en: 1,
                                        alpha: 8,
                                        static_sh_thr_green: 0,
                                        shr_thr_offset_yellow: 100,
                                        shr_thr_offset_red: 500,
                                    },
                                },
                            ],
                        },
                        {
                            port_num: ["24-47"],
                            queue: [
                                {
                                    queue_num: ["0-7"],
                                    params: {
                                        min_thr: 40, //Jumbo MTU?
                                        static_shr_thr_green: 16384,
                                        dynamic_en: 1,
                                        alpha: 8,
                                        static_sh_thr_green: 0,
                                        shr_thr_offset_yellow: 100,
                                        shr_thr_offset_red: 500,
                                    },
                                },
                            ],
                        },
                    ],
                },

                ActiveQueueManagement: {
                    port: [
                        {
                            port_num: ["0-23"],
                            queue: [
                                {
                                    queue_num: ["0-15"],
                                    aqm_params: {
                                        wred_en: 0,
                                        wred_prof_num: 0,
                                        wred_weight: 8,
                                        ecn_en: 0,
                                        ecn_prof_num: 0,
                                        wred: {
                                            min_thr: 0,
                                            max_thr: 0,
                                            wred_prob_index: 0,
                                            wred_drop_prob_prof : {
                                                prob: 0,
                                            },
                                        },
                                        ecn: {
                                            min_thr: 0,
                                            max_thr: 0,
                                            ecn_prob_index: 0,
                                            ecn_prob_prof : {
                                                prob: 0,
                                            },
                                        },
                                    },
                                },
                            ],
                        },
                        {
                            port_num: ["24-47"],
                            queue: [
                                {
                                    queue_num: ["0-7"],
                                    aqm_params: {
                                        wred_en: 0,
                                        wred_prof_num: 0,
                                        wred_weight: 8,
                                        ecn_en: 0,
                                        ecn_prof_num: 0,
                                        wred: {
                                            min_thr: 0,
                                            max_thr: 0,
                                            wred_prob_index: 0,
                                            wred_drop_prob_prof : {
                                                prob: 0,
                                            },
                                        },
                                        ecn: {
                                            min_thr: 0,
                                            max_thr: 0,
                                            ecn_prob_index: 0,
                                            ecn_prob_prof : {
                                                prob: 0,
                                            },
                                        },
                                    },
                                },
                            ],
                        },
                    ],
                },

                InputResourceManager: {
                    pfc: {
                        pfc_en: 0,
                    },
                    port: [
                        {
                            port_num: ["0-23"],
                            pg: [
                                {
                                    pg_num: ["0-15"],
                                    pg_params: {
                                        prio_map: ["0"],
                                        xoff_en: 0,
                                        min_thr: 0,
                                        shr_thr: 0,
                                        hdrm_thr: 0,
                                        shr_xon_thr: 0,
                                    },
                                },
                            ],
                        },
                        {
                            port_num: ["23-47"],
                            pg: [
                                {
                                    pg_num: ["0-7"],
                                    pg_params: {
                                        prio_map: ["0"],
                                        xoff_en: 0,
                                        min_thr: 0,
                                        shr_thr: 0,
                                        hdrm_thr: 0,
                                        shr_xon_thr: 0,
                                    },
                                },
                            ],

                        }
                    ],
                },

                Scheduler: {
                    DWRR: {
                        port: [
                            {
                                port_num: ["0-23"],
                                queue: [
                                    {
                                        queue_num: ["0-15"],
                                        dwrr_params: {
                                            dwrr_en: 1,
                                            weight: 1,
                                        },
                                    },
                                ],
                            },
                            {
                                port_num: ["24-47"],
                                queue: [
                                    {
                                        queue_num: ["0-7"],
                                        dwrr_params: {
                                            dwrr_en: 1,
                                            weight: 1,
                                        },
                                    },
                                ],
                            },
                        ],
                    },

                    Shaper: {
                        port: [
                            {
                                port_num: ["0-23"],
                                queue: [
                                    {
                                        queue_num: ["0-15"],
                                        shaper_params: {
                                            shaper_en: 0,
                                            min_rate: 0,
                                            max_rate: 0,
                                        },
                                    },
                                ],
                            },
                            {
                                port_num: ["24-47"],
                                queue: [
                                    {
                                        queue_num: ["0-7"],
                                        shaper_params: {
                                            shaper_en: 0,
                                            min_rate: 0,
                                            max_rate: 0,
                                        },
                                    },
                                ],
                            },
                        ],
                    },

                    StrictPriority: {
                        port: [
                            {
                                port_num: ["0-23"],
                                queue: [
                                    {
                                        queue_num: ["1-7", "9-15"],
                                        sp_params: {
                                            sp_en: 0,
                                            extrabw_sp_en: 0,
                                        },
                                    },
                                    {
                                        queue_num: ["0","8"],
                                        sp_params: {
                                            sp_en: 1,
                                            extrabw_sp_en: 1,
                                        },
                                    },
                                ],
                            },
                            {
                                port_num: ["24-47"],
                                queue: [
                                    {
                                        queue_num: ["1-7"],
                                        sp_params: {
                                            sp_en: 0,
                                            extrabw_sp_en: 0,
                                        },
                                    },
                                    {
                                        queue_num: ["0"],
                                        sp_params: {
                                            sp_en: 1,
                                            extrabw_sp_en: 1,
                                        },
                                    },
                                ],
                            },
                        ],
                    },
                },

                //We may not need this when ECN based flow control is enabled.
                FlowControl: {
                    port: [
                        {
                            port_num: ["0-23"],
                            pg: [
                                {
                                    pg_num: ["0-15"],
                                    fc_params: {
                                        pfc_en: 0,
                                        prio_map: [0],
                                    },
                                },
                            ],
                        },
                        {
                            port_num: ["24-47"],
                            pg: [
                                {
                                    pg_num: ["0-7"],
                                    fc_params: {
                                        pfc_en: 0,
                                        prio_map: [0],
                                    },
                                },
                            ],
                        },
                    ],
                },

            },
        ],
	},
}
